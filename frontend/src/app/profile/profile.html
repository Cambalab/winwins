<md-content class="acme-profile" layout="column" layout-align="center center">
  <div class="container">
    <form method="post" name="profileForm" ng-submit="profile.saveProfile()">
    <div layout="row">
        <md-card class="public-profile">
          <md-card-content>
            <div><img ng-src="{{profile.imageServer}}/{{profile.user.cover_photo}}" class="md-card-image" alt="">
            </div>
            <md-card-title>
              <div layout="row" layout-align="space-around end" layout-margin class="md-card-members">
                <div class="md-item-text bg-violet" ng-if="!profile.user.private || profile.user.myself">
                  <h3 >Siguiendo</h3>
                  <!--<p>{{siguiendo.length}}</p>-->
                </div>
                <div layout="column" layout-align="center center">
                  <img ng-src="{{profile.imageServer}}/smart/{{profile.user.photo}}" class="md-card-avatar" alt="">
                  <md-button ng-click="profile.showCropAvatarDialog()"></md-button>
                  <div class="name"><strong>{{profile.user.name}} {{profile.user.lastname}}</strong>
                  </div>
                </div>
                <div class="md-item-text bg-orange" ng-if="!profile.user.private || profile.user.myself">
                  <h3 >Seguidores</h3>
                  <!--<p>{{seguidores.length}}</p>-->
                </div>
                  <!--<md-button class="bt-gray bottom" ng-click="profile.showCropCoverDialog()"></md-button>-->
              </div>
            </md-card-title>
          </md-card-content>
        </md-card>
    </div>
  <div class="blueBlock" layout="column" hide-xs><strong>Edita tu perfil</strong></div>
    <div class="blueArrow" hide-xs></div>

  <div flex class="editor-Perfil" layout="row" layout-xs="column">
    <div layout="column" class="credentials">
      <md-input-container class="md-block">
        <label >Nombre</label>
        <input required name="name" ng-model="profile.user.name" ng-disabled="profile.is_public">
        <div ng-messages="profileForm.name.$error">
          <div ng-message="required" >Campo requerido.</div>
        </div>
      </md-input-container>
      <md-input-container class="md-block">
        <label >Apellido</label>
        <input required name="lastname" ng-model="profile.user.lastname" ng-disabled="profile.is_public">
        <div ng-messages="profileForm.lastname.$error">
          <div ng-message="required" >Campo requerido.</div>
        </div>
      </md-input-container>
      <md-input-container class="md-block">
        <label >Email</label>
        <input required name="email" ng-model="profile.user.email" ng-disabled="profile.is_public">
        <div ng-messages="profileForm.email.$error">
          <div ng-message="required" >Campo requerido.</div>
        </div>
        </md-input-container>
      </div>
    <div layout="column" class="credentials">
      <div class="md-block wrap-input">
        <am-date-picker ng-model="profile.user.birthdate"
                        am-cancel-button="Cancelar"
                        am-back-button-text="Volver"
                        am-input-label="Fecha de Nacimiento"
                        am-allow-clear="false"
                        am-input-date-format="L"
                        am-popup-date-format="D MMMM YYYY"
                        am-show-input-icon="true"
                        name="birthdate">
        </am-date-picker>
      </div>
      <md-input-container class="md-block">
        <label >Intereses</label>
        <md-input-container class="intereses">
          <md-select ng-model="profile.user.interests_list" ng-model-options="{trackBy: '$value.id'}" multiple ng-disabled="profile.is_public" aria-label="interests">
            <md-optgroup label="intereses">
              <md-option ng-value="item" ng-repeat="item in profile.interests">{{item.description}}</md-option>
            </md-optgroup>
          </md-select>
        </md-input-container>
      </md-input-container>
    </div>
    <div layout="column" class="credentials">
      <md-input-container class="md-block">
        <label>Sobre vos</label>
        <textarea class="sobreVos" name="about" ng-model="profile.user.about"  md-no-asterisk md-maxlength="500" rows="3" md-select-on-focus ng-disabled="profile.is_public"></textarea>
        <div ng-messages="profileForm.about.$error">
          <div ng-message="required">Campo requerido.</div>
          <div ng-message="md-maxlength">Maximo 500 caracteres.</div>
        </div>
      </md-input-container>
    </div>
  </div>
    <div class="contrasena-Notificaciones" layout="column">
      <div class="cambiar-Contrasena">
      <div flex class="credentials" layout="row" layout-xs="column">
          <h6>Cambiar Contraseña</h6>
          <md-input-container class="md-block">
            <label >Contraseña actual</label>
            <input name="current_password" ng-model="profile.user.current_password" type="password" ng-change="profileForm.current_password.$setValidity('currentPasswordWrong', true)">
            <div ng-messages="profileForm.current_password.$error">
              <div ng-message="currentPasswordWrong" >Clave actual incorrecta.</div>
            </div>
          </md-input-container>
          <md-input-container class="md-block">
            <label >Nueva Contraseña</label>
            <input name="password" ng-model="profile.user.password" type="password">
          </md-input-container>
          <md-input-container class="md-block">
            <label >Reingresa nueva contraseña</label>
            <input name="confirmPassword" ng-model="profile.user.confirmPassword" data-password-verify="profile.user.password" type="password">
            <div ng-messages="profileForm.confirmPassword.$error" ng-if="profileForm.confirmPassword.$touched">
              <div ng-message="passwordVerify">Las contraseñas ingresadas no son iguales.</div>
            </div>
          </md-input-container>
          </div>
      </div>
      <div flex class="notificaciones" layout="row" layout-xs="column">
          <div flex><h6>Notificaciones</h6><p>te actualizamos por email
            de lo importante</p></div>
            <div layout="row" layout-align="center center" class="bg-white">
              <div class="spanNotificaciones"><span>Invitación a Winwins</span></div>
              <div>
                <md-switch name="invite_ww" ng-model="profile.user.invite_ww" ng-true-value="1" ng-false-value="0" aria-label="Invitación a winwin"></md-switch>
              </div>
            </div>
            <div layout="row" layout-align="center center" class="bg-white">
              <div class="spanNotificaciones"><span>Winwins finalizado</span></div>
              <div>
                <md-switch name="ww_to_finish" ng-model="profile.user.ww_to_finish" ng-true-value="1" ng-false-value="0" aria-label="Winwins finalizado"></md-switch>
              </div>
            </div>
            <div layout="row" layout-align="center center" class="bg-white">
              <div class="spanNotificaciones"><span>Invitación a Grupo</span></div>
              <div>
                <md-switch name="invite_group" ng-model="profile.user.invite_group" ng-true-value="1" ng-false-value="0" aria-label="Invitación a grupo"></md-switch>
        </div>
            </div>
      </div>
        <md-button md-no-ink class="md-raised md-primary bt-green md-whiteframe-5dp" type="submit" ng-disabled="loadingFlag" name="action">Guardar</md-button>
    </div>
      </form>
    </div>
</md-content>
