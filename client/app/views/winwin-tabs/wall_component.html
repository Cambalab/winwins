<!-- Winwin Activity Wall-->            

<div data-ng-controller="winwin-muro">

    <div  style="margin-bottom:80px;">

        <div class="container no-padding" ng-repeat="item_post in posts" >
            <div class="panel-body post">

                 <div class="col-xs-12" style="background:white;">
                   
                    <div class="col-xs-12 no-padding">
                        <div class="col-xs-2 no-padding">    
                            <img ng-src="http://images.dev-winwins.net/38x38/{{item_post.user.photo}}" class="img-circle profile-ww" width="38" height="38" style="       margin-top: 15px; margin-bottom: 10px; margin-right: 15px; margin-left: 10px;" />
                        </div>
                        <div class="p-lista" style="padding-bottom:10px;">

                            <div style="padding-left: 15px; padding-right:15px;"> 
                                {{::item_post.content}}
                            </div>

                                      <!-- Media -->
                
                            <div class="media-post"> </div>
                            <div ng-show="item_post.media.type == 'IMAGE'" dynamic-background="" background-size="cover" background-image="http://images.dev-winwins.net/220x/smart/{{::item_post.media.id}}.{{::item_post.media.ext}}" style="height:240px; margin-top:10px; margin-bottom:10px; background:linear-gradient(rgba(0, 0, 0, 0.1), rgba(154, 148, 120, 0.0980392));"></div>
                            <div ng-show="item_post.media.type == 'VIDEO'" class="embed-responsive embed-responsive-16by9" max-height="240" style="margin-top:10px;">
                                <iframe class="embed-responsive-item" ng-src="{{getIframeSrc(item_post.media.path)}}" allowfullscreen=""></iframe>
                            </div>

                                      <!-- Toolbar -->
                            <div class="container  buttons-post" style="background: white;">
                                <div class="row" style=" margin-top: 10px;">
                                    <div class="col-xs-12 no-padding">
                                         <div class="col-xs-4" style="padding-left:25px;"> <i class="fa fa-clock-o"></i><span style="font-size: 9px;"> {{::item_post.created_at | moment: 'DD/MM/YYYY' }} </span></div>
                                        <div ng-if="!isAuthenticated" class="col-xs-2"> <i class="fa fa-thumbs-o-up"></i> <span class="post-likes"> {{::item_post.up_votes}}</span></div>
                                        <div ng-if="!isAuthenticated" class="col-xs-2"><i class="fa fa-thumbs-o-down" style="padding-top:2px;"></i><span class="post-likes-"></i><span class="post-likes-"> 10</span></div>
                                        <div ng-if="isAuthenticated"class="col-xs-2"  ng-class="{'text-danger': !item_post.self_vote.positive}"><i class="fa fa-thumbs-o-down" style="padding-top:2px;"  style="cursor:pointer;" ng-click="vote(item_post, false)"></i><span class="post-likes-"> {{::item_post.down_votes}}</span></div>
                                        <div ng-if="isAuthenticated" class="col-xs-2" ng-class="{'text-success': item_post.self_vote.positive}"> <i class="fa fa-thumbs-o-up"  style="cursor:pointer;" ng-click="vote(item_post, true)"></i> <span class="post-likes"> {{::item_post.up_votes}}</span></div>
                                       <div class="col-xs-2"><span class="share-ico" ng-click="openSocialModal(item_post)"><i class="fa fa-share" style="padding-top:4px;"></i> </span></div>
                                        <div ng-if="isAuthenticated" class="col-xs-2" style="cursor:pointer;" ng-show="!item_post.isReplying" ><span class="comments-ico" ng-click="reply(item_post)"> <i class="fa fa-comment"></i></span></div>
                                        <div ng-if="isAuthenticated" class="col-xs-2" style="cursor:pointer;" ng-show="item_post.isReplying" ><span class="comments-ico" ng-click="cancelReply(item_post)"> <i class="fa fa-comment"></i></span></div>

                                    </div>

                                </div>
                            </div>                          

                        </div>
                    </div>
                </div>
            </div>

            <div class="container no-padding" ng-repeat="comment in item_post.comments" >
                <div class="panel-body post">
                     <div class="col-xs-11 col-xs-offset-1" style="background:white;">
                        <div class="col-xs-12 no-padding">
                            <div class="col-xs-2 no-padding right">    
                                <img ng-src="http://images.dev-winwins.net/38x38/{{comment.user.photo}}" class="img-circle profile-ww" width="38" height="38" style="margin-top: 15px; margin-bottom: 10px; margin-right: 25px; border: 3px solid rgba(117, 114, 114, 0.59);" />
                            </div>
                            <div class="p-lista" style="padding-bottom:10px;">
                                <div style="padding-left: 20px; padding-right:15px;"> 
                                    {{::comment.content}}
                                </div>
                                <div class="media-post"> </div>
                                <div ng-show="comment.media.type == 'IMAGE'" dynamic-background="" background-size="cover" background-image="http://images.dev-winwins.net/220x/smart/{{::comment.media.id}}.{{::comment.media.ext}}" style="height:240px; margin-top:10px; margin-bottom:10px; background:linear-gradient(rgba(0, 0, 0, 0.1), rgba(154, 148, 120, 0.0980392));"></div>
                                <div ng-show="comment.media.type == 'VIDEO'" class="embed-responsive embed-responsive-16by9" max-height="240" style="margin-top:10px;">
                                    <iframe class="embed-responsive-item" ng-src="{{getIframeSrc(comment.media.path)}}" allowfullscreen=""></iframe>
                                </div>

                                <div class="container  buttons-post" style="background: white;">
                                    <div class="row" style=" margin-top: 10px;">
                                        <div class="col-xs-12 no-padding">
                                             <div class="col-xs-4" style="padding-left:25px;"> <i class="fa fa-clock-o"></i><span style="font-size: 9px;"> {{::comment.created_at | moment: 'DD/MM/YYYY' }} </span></div>
                                            <div ng-if="!isAuthenticated" class="col-xs-2"> <i class="fa fa-thumbs-o-up"></i> <span class="post-likes"> {{::comment.up_votes}}</span></div>
                                            <div ng-if="!isAuthenticated" class="col-xs-2"><i class="fa fa-thumbs-o-down" style="padding-top:2px;"></i><span class="post-likes-"></i><span class="post-likes-"> 10</span></div>
                                            <div ng-if="isAuthenticated"class="col-xs-2"  ng-class="{'text-danger': !comment.self_vote.positive}"><i class="fa fa-thumbs-o-down" style="padding-top:2px;"  style="cursor:pointer;" ng-click="vote(comment, false)"></i><span class="post-likes-"> {{::comment.down_votes}}</span></div>
                                            <div ng-if="isAuthenticated" class="col-xs-2" ng-class="{'text-success': comment.self_vote.positive}"> <i class="fa fa-thumbs-o-up"  style="cursor:pointer;" ng-click="vote(comment, true)"></i> <span class="post-likes"> {{::comment.up_votes}}</span></div>
                                        </div>
                                    </div>
                                </div>                          

                            </div>

                        </div>
                    </div>
                </div>
            </div>


        </div>



    </div>

    <div id="footer">
        <div class="container comments-box">
            <div class="col-xs-2 post-image">
                <img ng-src="http://images.dev-winwins.net/38x38/{{profile.photo}}" class="img-circle profile-ww" width="38" height="38"/>
            </div>
            <div class="col-xs-6 no-padding">
                <div class="bubbles">
                    <textarea class="postbox no-padding" placeholder="Postear acÃ¡" rows="4" ng-model="post.content" no-resize ng-required="true" ng-focus="max_size()" > </textarea>
                </div>
            </div>
            <span type="button" class="col-xs-2 button-send" ng-disabled="sendingPost" ng-click="submitPost()"><i class="fa fa-paper-plane" style="margin-left: -3px;"></i></span>
            <span class="col-xs-1 upload-post" ng-click="setVideoUrl()"><i class="fa fa-youtube"></i></span>
            <span type="file" class="col-xs-1 upload-post" ngf-select="uploadFiles($file)" accept="image/*" ngf-max-size="8MB"><i class="fa fa-camera-retro"></i></span>
        </div>
    </div>

</div>




    <script type="text/ng-template" id="postShareModal.html">
  <div class="container center">
    
        <i class="fa fa-elipsis" style="font-size: 2rem;color:#3B5998;"></i>
        <i class="fa fa-bullhorn " style="font-size: 50px; background-color:  #3B5998; color: #FFF; padding: 20px; width:101%;"></i> 
        <i class="fa fa-caret-down " style="font-size: 3rem;margin-top:-23px; color:#3B5998;"></i>
    </div>

     <div class="container no-padding">
        <div class="col-xs-1 no-padding"></div>
        <div style="cursor:pointer; background-color:#3b5998; color:#fff;  margin-top:1px;margin-right:3px;"  class="col-xs-3 animated  wobble uploaders card-panel circle"  
            socialshare
            socialshare-provider="facebook" 
            socialshare-text="{{::winwin.title}}" 
            socialshare-url="http://dev-winwins.net/ww/{{::winwin.id}}"  
            socialshare-media="http://images.dev-winwins.net/{{::winwin.image}}"
            socialshare-via="1082199191794840">
            <i class="fa fa-facebook" style="padding-top:0px;" ></i><br>
        </div>
        <div style="cursor:pointer ;background-color:#1dcaff; color:#fff;margin:3px;"  class="col-xs-3  animated  wobble uploaders card-panel"  socialshare  socialshare-text="{{::winwin.title}}" socialshare-url="http://dev-winwins.net/ww/{{::winwin.id}}" socialshare-provider="twitter">
            <i class="fa fa-twitter" style="padding-top:0px;" ></i><br>
        </div>
        <div style="cursor:pointer;background-color:#EA4235; color:#fff; margin:3px;"  class="col-xs-3 animated  wobble uploaders card-panel"  
            socialshare 
            socialshare-provider="google+" 
            socialshare-text="{{::winwin.title}}" 
            socialshare-media="http://images.dev-winwins.net/{{::winwin.image}}"
            socialshare-url="http://dev-winwins.net/ww/{{::winwin.id}}">

            <i class="fa fa-google" style="padding-top:0px;"></i><br>
        </div>
    </div>
  
 
    </script>

    <script type="text/ng-template" id="commentModal.html">
         <div class="container center">

        <i class="fa fa-comments  pulse " style="font-size: 50px; background-color:  #3B5998; color: #FFF; padding: 20px; width:101%;"></i> 
        <i class="fa fa-caret-down " style="font-size: 3rem;margin-top:-23px; color:#3B5998;"></i>
    </div>


            <div class="container" ng-show="comment.media_type">

                <div ng-show="uploading" style="height:190px;">
                    <img class="img-responsive col-xs-12" ng-show="uploading" src="/images/loader.gif" height="75" style="padding:30px"/>
                </div>
                <div ng-show="comment.media_type == 'IMAGE'" dynamic-background="" background-size="cover" background-image="http://images.dev-winwins.net/190x/{{::comment.media_path}}" style="height:190px;">
                </div>
                <div ng-show="comment.media_type == 'VIDEO'" class="embed-responsive embed-responsive-16by9">
                    <iframe class="embed-responsive-item" ng-src="{{getIframeSrc(comment.media_path)}}" allowfullscreen=""></iframe>
                </div>
            </div>

            <div class="container">
                <div class="col-xs-12 no-padding">
                    <textarea class="materialize-textarea" style="border:1px solid lightgrey;" placeholder="ComentÃ¡ acÃ¡" rows="8" ng-model="comment.content" ></textarea>
                </div>
        


      <div class="container no-padding">
           
                <div class="col-xs-12 no-padding"> <a href role="button" class="_col-xs-12 btn-large green" style="width:100%;" ng-disabled="sendingPost" ng-click="submitComment()"><i class="fa fa-paper-plane animated infinite wobble"></i></a></div><br>
                <div class="col-xs-6 card-panel"> <a href role="button" class="_col-xs-6 upload-post center"  ng-click="setVideoUrl()"><i class="fa fa-youtube"  style="font-size:1.5em;"></i></a></div>
             <div class="col-xs-6 card-panel">    <a href role="button" class="_col-xs-6 upload-post center"  ngf-select="uploadFiles($file)" accept="image/*" ngf-max-size="8MB"><i class="fa fa-camera-retro" style="font-size:1.5em;"></i></a></div>
        </div>
    </script>



