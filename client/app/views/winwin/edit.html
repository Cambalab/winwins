<div ng-show="first_stage">

    <form id="create-ww-form no-padding" style="background:#f1f1f1;" role="form" ng-submit="persistBasic()" name="wwBasicForm">
        <div class="card-panel teal hoverable no-padding" >
            <div class="row">
                <div class="col-xs-12 create-title bubble-big"> 
                    CREA TU WINWIN <br> COMENZA UNA ACCION POSITIVA
                </div> 
            </div> 
        </div> 
    

        <div class="container" style="padding:20px;margin-top:-20px;">
            <div class="row">
                <div class="card-panel teal">
                   
                         <label for="email"> Un nombre para tu Winwin*</label>   <a  data-position="bottom" data-delay="50" data-tooltip="I am tooltip"><i class="fa fa-question right" style="color: #FF8000;"></i></a>
                            <input class="input-field" class="active" placeholder="¿Ya pensaste un nombre para tu WinWin?" type="text" length="120"  ng-model="winwin.title" required/>


               </div>
                 <div class="pad-10"></div>
                <div class="card-panel teal">
                <label for="email"> Planteá tu Winwins*</label><a  data-position="bottom" data-delay="50" data-tooltip="I am tooltip">
                <i class="fa fa-question right" style="color: #FF8000;"></i></a> <br>
                <span class="si-supieras" style="font-style:italic; background:#f5f5f5; padding: 3px; border-radius:2px; color: #777;">¿Si supieras que somos </span>  

                <input class="numero" type="number" placeholder="Ej: 200"  style="width:20%;" ng-model="winwin.users_amount"  ng-required="true" ng-minlength="1"/>

                <span class="si-supieras" style="font-style:italic; background:#f5f5f5; padding: 3px; border-radius:2px; color: #777;">para</span>
                <div class="pad-10"></div>

                 <textarea id="textarea1" class="materialize-textarea" length="120"   placeholder="Ej: Hacer cosas divertidas y cambiar el mundo."  ng-model="winwin.what_we_do" required></textarea>
        <span class="si-supieras" style="font-style:italic; background:#f5f5f5; padding: 3px; border-radius:2px; color: #777;">te sumarías?</span>


      </div>
 <div class="pad-10">   </div>

<div class="card-panel teal">
                  <label for="email"> Más detalles de Winwin*</label>  <a type="button"  data-position="bottom" data-delay="50" data-tooltip="I am tooltip"><i class="fa fa-question right"style="color: #FF8000;"></i></a> <br>


                  
        
                 <textarea id="textarea1" class="materialize-textarea" length="120"   placeholder="Ej: Hora, días, motivos, necesidad, causas que motivan el winwins etc."  ng-model="winwin.description" required></textarea>


     </div>

 <div class="pad-10">   </div>

<div class="card-panel teal">
                  <label for="email"> Seleccioná una fecha límite.<span style="color: #ddd; font-size:9px;"> (Si aplica a tu WinWin)</span></label>  <a type="button"  data-position="bottom" data-delay="50" data-tooltip="I am tooltip"><i class="fa fa-question right" style="color: #FF8000;"></i></a> <br>
                       <input type="date" class="datepicker">
                            </span>
                        </div>
                    </div>

             
<input type="checkbox" class="filled-in" id="filled-in-box" checked="checked" />
      <label for="filled-in-box" style="font-size:11px; font-family: montserrat;"> He leído y acepto los  <a class="modal-trigger" href="#modal1" style="color:grey;font-family:montserrat;"style="font-size:11px;">Términos y Condiciones.</a></span>
        </div></label>
 <div class="pad-10"></div>

<div class="card-panel teal">
                <button class="btn waves-effect waves-light" type="submit" name="action" style="width:100%; font-family: montserrat; text-align:center; height:60px;" ng-disabled="wwBasicForm.$invalid" ng-click="persistBasic()"> 
    <i class="fa fa-play right"></i>Continuar
  </button>

   <div class="pad-10">   </div>
  </div>
          
        </div>

    </form>



  <!-- Modal Structure -->
  <div id="modal1" class="modal bottom-sheet">
    <div class="modal-content">
      <h4>Modal Header</h4>
      <p>A bunch of text</p>
    </div>
    <div class="modal-footer">
    </div>
  </div>
          


</div>
<div ng-show="false && first_stage">
    <form role="form" ng-submit="persistBasic()" name="wwBasicForm">
        <div class="container">

            <div class="col-xs-12 msj-bienvenida back-winwin mb-20">
                <h1 class="txt-welcome text-center">
                    COMENZÁ TU <span style="color: #FF8000 ;">WIN</span>WIN
                    <p class="bajada-winwin"><i>Comenzá una acción positiva, por más chica que sea que sientas que úede llegar a mejorar aunque sea algo. Algo que te inspire y te motive. Por más pequeño o GIGANTESCO que sea!</i></p>
                </h1>            
            </div>

            <div class="col-xs-12">
                <div class="form-group no-padding mb-0 mt-0 col-xs-12" style="margin:20px 0" ng-class="{ 'has-error': wwBasicForm.title.$touched && wwBasicForm.title.$invalid ,  'has-success': wwBasicForm.title.$touched && wwBasicForm.title.$valid }">
                    <input type="text" class="form-control" placeholder="Nombra tu Winwin" aria-describedby="basic-addon1" name="title" ng-model="winwin.title" required>
                    <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"  ng-if="wwBasicForm.title.$touched  && wwBasicForm.title.$valid "></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"  ng-if="wwBasicForm.title.$touched  && wwBasicForm.title.$invalid "></span>
                    <div ng-messages="wwBasicForm.title.$error" ng-if="wwBasicForm.title.$touched" class="help-block">
                        <p class="small" ng-message="required">El titulo es requerido.</p>
                    </div>
                </div>
                Plantea tu WinWin <span data-toggle="popover" title="Definir Winwin" data-content="Acá podrás crear tu winwin!(Definir texto)"><i class="fa fa-question-circle" style="color:red;"></i></span>

                <div class="col-xs-12 no-padding te-sumarias form-group"  ng-class="{ 'has-error': wwBasicForm.users_amount.$touched && wwBasicForm.users_amount.$invalid ,  'has-success': wwBasicForm.users_amount.$touched && wwBasicForm.users_amount.$valid }">
                    ¿Si supieras que somos <input type="number" name="users_amount" ng-model="winwin.users_amount" class="form-control" aria-describedby="basic-addon1" style="width:80px; display:inline" ng-required="true" ng-minlength="1" placeholder=""> para
                </div>

                <div class="form-group no-padding mb-0 mt-0 col-xs-12" style="margin:20px 0" ng-class="{ 'has-error': wwBasicForm.what_we_do.$touched && wwBasicForm.what_we_do.$invalid ,  'has-success': wwBasicForm.what_we_do.$touched && wwBasicForm.what_we_do.$valid }">
                    <textarea  name="what_we_do" ng-model="winwin.what_we_do" class="form-control" rows="3" no-resize required></textarea>

                    <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"  ng-if="wwBasicForm.what_we_do.$touched  && wwBasicForm.what_we_do.$valid "></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"  ng-if="wwBasicForm.what_we_do.$touched  && wwBasicForm.what_we_do.$invalid "></span>
                    <div ng-messages="wwBasicForm.what_we_do.$error" ng-if="wwBasicForm.what_we_do.$touched" class="help-block">
                        <p class="small" ng-message="required">El campo es requerido.</p>
                    </div>
                </div>

                <div class="col-xs-12 no-padding te-sumarias mb-20">
                    te sumarías?
                </div>



                <div class="col-xs-12 no-padding">

                </div>
                <div class="col-xs-12 no-padding">
                    <textarea ng-model="winwin.description" class="form-control" rows="3" no-resize placeholder="Más detalles del WinWin"></textarea>
                </div>

                <div class="col-xs-12 no-padding">
                    <h5 class="text-center" style="color:#9f9f9f;">
                        Fecha limite si aplica
                    </h5>

                    <div class="col-xs-8 col-xs-offset-2 no-padding mb-20">

                        <div class="form-group">
                            <div class="input-group date" id="datetimepicker1">
                                <input type="text" class="form-control"/>
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>


        <div class="col-xs-10 text-center mb-20" style="margin-top:10px;">
            <input type="checkbox" ng-model="winwin.accept_terms" aria-label="Checkbox for following text input" style="width:15px; height:15px;">
            <span style="font-size:.3rem;color: #444;">He leido y acepto los <a href="#">terminos y condiciones</a></span>
        </div>


        <button type="submit" ng-disabled="wwBasicForm.$invalid || !winwin.accept_terms"  class="btn btn-default btn-sponsor btn-second mb-20" style="color:#FFF; text-transform:uppercase;" ng-click="persistBasic()">
            Crear winwin
        </button>   

    </form>
</div>

<div ng-show="second_stage">
    <form role="form" data-ng-submit="doSave()" name="wwAdditionalForm">

        <div class="row">
                <div class="card-panel teal hoverable no-padding" >
            <div class="row">
                <div class="col-xs-12 create-title bubble-big"> 
                   <i class="fa fa-flag-o" style="font-size:2em;"></i> <br> Dale identidad a tu WinWin
                </div> 
            </div> 
        </div> 

            <div class="panel-body">
                <div class="col-xs-12  no-padding text-center" dynamic-background="" background-size="cover" background-image="{{preview_image}}" style="height: 240px; margin-top:-20px;">
                    <div class="ww-title" style="margin-top:30px; color:#fff; font-size: 23px; text-transform: uppercase;">
                    {{winwin.title}}</div>
                </div>
            </div>
         <div class="pad-10">    </div>
            <div class="container center">
                 <h6 style="background: #f1f1f1; padding:10px; border-radius: 2px;" >CARGA UNA FOTO O ELEGI UN VIDEO<a type="button"  data-position="bottom" data-delay="50" data-tooltip="I am tooltip"><i class="fa fa-question right" style="color: #FF8000;"></i></a></h6>
                <div class="row">
                    <div style="cursor:pointer"  ngf-select="uploadFiles($file)" accept="image/*" class="col-xs-4 uploaders card-panel teal" ngf-accept="'image/*'">
                        <i ng-show="!winwin.image && !uploading" class="fa fa-camera-retro"style="padding-top:0px;" ></i><br>
                        <img ng-show="uploading" src="/images/loading.gif" height="90" alt="loading">
                        <img ng-show="winwin.image" ng-src="http://images.dev-winwins.net/90x/smart/{{winwin.image}}" height="90" alt="loading">
                    </div>
                    <div style="cursor:pointer" class="col-xs-4 uploaders card-panel teal" ng-click="setVideoUrl()">
                        <i class="fa fa-youtube"></i> 
                    </div>
                    <div class="col-xs-4 uploaders card-panel teal" ng-click="select_gallery()" style="cursor:pointer">
                        <i class="fa fa-image"></i> 
                    </div>
                </div>
            </div>


            <div class="container" ng-show="gallery_picker">
                <div class="row">

                    <div class="col-xs-12 border-grey" style="min-height: 200px;">
                        <div class="picker no-padding">
                            <select id="image-gallery" class="image-picker"  ng-model="image_gallery_selected">
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-1.jpg" value="ww-default-1.jpg">Tierra</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-2.jpg" value="ww-default-2.jpg">Casas</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-3.jpg" value="ww-default-3.jpg">Manos</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-4.jpg" value="ww-default-4.jpg">Libros</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-5.jpg" value="ww-default-5.jpg">Juego</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-6.jpg" value="ww-default-5.jpg">Gente</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-7.jpg" value="ww-default-5.jpg">Trabajo</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-8.jpg" value="ww-default-5.jpg">Oficio</option>
                                <option data-img-src="http://images.dev-winwins.net/75x100/smart/ww-default-9.jpg" value="ww-default-5.jpg">Colaborar</option>
                            </select>
                        </div>
                    </div>

                </div>
            </div>


        <div class="form-back create-id">
              <div class="card-panel teal">
                <div class="input-label">Escala del WinWin <i class="fa fa-question-circle" style="color: red;"></i></div>
                <select ng-options="item as item for item in scopes track by item.id" ng-model="winwin.scope" class="form-control" placeholder="Seleccioná una escala territorial">
                </select>
                </div>
                                <div class="pad-10"></div>
           <div class="card-panel teal">
                <div class="input-label">En que categoría? <i class="fa fa-question-circle" style="color: red;"></i></div>
                <select ng-options="item as item.description for item in interests track by item.id" ng-model="winwin.interest" class="form-control" placeholder="Seleccioná una categoría">
                </select>
                  </div>
                                  <div class="pad-10"></div>
                <div class="card-panel teal">
                <div class="input-label">Palabras Clave <i class="fa fa-question-circle" style="color: red;"></i>
                <tags-input  class="bootstrap" ng-model="winwin.tags" placeholder="Agrega palabras claves"></tags-input>
            </div>         </div>
              <div class="pad-10"></div>
            <div class="form-back  create-id">
                <div class="pad-10"></div>


                <button class="btn waves-effect waves-light" type="submit" name="action" style="width:100%; font-family: montserrat; text-align:center; height:60px;" ng-disabled="wwAdditionalForm.$invalid">  <i class="fa fa-play right"></i>Continuar</button>

   <div class="pad-10">   </div> </button>
            </div>
        </div>
    </form>

</div>

<script>
  $('.datepicker').pickadate({
    selectMonths: true, // Creates a dropdown to control month
    selectYears: 15 // Creates a dropdown of 15 years to control year
  });
  </script>
                    <script>
  $(document).ready(function() {
    $('input#input_text, textarea#textarea1').characterCounter();
  });
  </script>
<script>
  $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal();
  });

  </script>
        